<!DOCTYPE HTML>
<html>
<head>
<#include "/adminPage/common.html"/>
<link rel="stylesheet" type="text/css" href="${ctx}/lib/jsdifflib/diffview.css" />
<style type="text/css">
table.diff {
	width: 100%;
}
</style>
</head>
<body>
		<!-- 内容主体区域 -->
		<div style="padding: 15px">
			<form action="${ctx}/adminPage/bak" id="searchForm" method="post">
				<!-- <div class="layui-inline">
					<button type="button" class="layui-btn layui-btn-danger" onclick="delAll()">${bakStr.clear}</button>
				</div> -->
				
				<input type="hidden" name="curr" value="${page.curr}">
				<input type="hidden" name="limit" value="${page.limit}">
			</form>

			<table class="layui-table">
				<thead>
					<tr>
						<th>${commonStr.createTime}</th>
						<th>版本号</th>
						<th>审批编号</th>
						<th>变更内容</th>
						<th>状态</th>
						<th>${commonStr.operation}</th>
					</tr>
				</thead>
				<tbody>
					<#list page.records as bak>
					<tr>
						<td>${bak.time}</td>
						<td>${bak.version}</td>
						<td>${bak.applyNumber}</td>
						<td>${bak.changeContent}</td>
						<td>
							<#if bak.status == 0>审批中</#if>
							<#if bak.status == 1>已通过</#if>
							<#if bak.status == 2>未通过</#if>
						</td>
						<td>
							<button class="layui-btn layui-btn-sm" onclick="content('${bak.id}')">${bakStr.content}</button>
							<button class="layui-btn layui-btn-sm" onclick="compare('${bak.id}')">${bakStr.compare}</button>
							<button class="layui-btn layui-btn-sm layui-btn-normal" onclick="replace('${bak.id}')">${bakStr.restore}</button>
							<!-- <button class="layui-btn layui-btn-sm layui-btn-danger" onclick="del('${bak.id}')">${commonStr.del}</button> -->
						</td>
					</tr>
					</#list>
				</tbody>
			</table>
			<div id="pageInfo"></div>
		</div>

	<div style="height: 0px; width: 0px; overflow: hidden;">
		<div id="diffoutput"></div>
	</div>

	<#include '/adminPage/script.html'/>
	<#include '/adminPage/select_preview.html'/>
	<script src="${ctx}/lib/auto-line-number/auto-line-number.js" type="text/javascript"></script>
	<script src="${ctx}/lib/jsdifflib/difflib.js" type="text/javascript"></script>
	<script src="${ctx}/lib/jsdifflib/diffview.js" type="text/javascript"></script>
	<script src="${ctx}/lib/base64/base64.js" type="text/javascript"></script>
	<script src="${ctx}/js/adminPage/bak/index.js?v=${jsrandom}" type="text/javascript"></script>
</body>


</html>